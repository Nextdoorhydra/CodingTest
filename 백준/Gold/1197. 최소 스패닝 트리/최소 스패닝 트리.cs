var I=()=>Console.ReadLine().Split().Select(int.Parse).ToList();var A=I();int V=A[0],E=A[1];List<long>M=new();var S=Enumerable.Range(0, V + 1).ToList();var L=Enumerable.Range(0,E).Select(_=>I()).ToList().OrderBy(x => x.Last());int F(int x)=>S[x]==x?x:S[x]=F(S[x]);var U=(int x,int y)=>F(x)!=F(y)?(S[F(x)]=F(y),T:true):(0,T:false);foreach(var e in L){if(M.Count>V-2)break;if(U(e[0],e[1]).T)M.Add(e[2]);}Console.WriteLine(M.Sum());